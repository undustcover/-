# 部门工作任务管理系统详细需求说明书

## 文档信息
- **文档版本**: V1.0
- **创建日期**: 2024年
- **最后更新**: 2024年
- **项目名称**: 部门工作任务管理系统
- **实施方案**: 核心功能优先方案（方案二）

## 1. 项目概述

### 1.1 项目背景
本系统旨在为单个部门提供完整的任务管理解决方案，支持任务的创建、分配、跟踪和统计，提高部门工作效率和管理水平。

### 1.2 项目目标
- 实现部门内任务的统一管理和跟踪
- 提供可视化的任务进度展示
- 支持多层级任务结构和依赖关系
- 提供完整的权限控制和数据统计功能

### 1.3 系统规模
- **用户数量**: 20人
- **使用范围**: 单个部门
- **预计运行时间**: 1年
- **单项目最大任务数**: 20个
- **并发用户**: 20人左右

## 2. 功能需求

### 2.1 任务管理模块

#### 2.1.1 任务层次结构
- **一级任务**: 直接建立的顶层任务
  - 分类：生产运行工作、项目管理工作、综合工作
- **二级任务**: 一级任务下的子任务
- **子任务**: 二级任务下的最细粒度任务
- **层级限制**: 最多支持三级任务结构

#### 2.1.2 任务属性
**基础属性**:
- 任务名称（必填，最大长度100字符）
- 任务描述（可选，最大长度500字符）
- 任务开始时间（必填）
- 任务完成时间（必填）
- 负责人（必填，单人）
- 协助人员（可选，0-3人）

**状态管理**:
- 任务状态：未开始、进行中、已完成、已暂停、已取消
- 任务优先级：高、中、低
- 创建时间、最后更新时间

**高级功能**:
- 任务依赖关系：支持前置任务设置（不支持自动时间调整）
- 任务变更记录：记录所有修改历史
- 任务评论功能：支持团队协作讨论
- 任务步骤：支持To-Do List功能，可添加多条任务步骤
- 里程碑事件：支持设置和单独提醒

#### 2.1.3 任务操作功能
- **任务创建**: 无需审批，直接创建
- **任务分配**: 一个任务只能分配给一个负责人
- **任务转移**: 支持变更负责人功能
- **任务延期**: 延期时通知部门经理与管理员，记录延期日志
- **任务完成确认**: 由任务创建者确认完成
- **批量导入**: 支持Excel模板导入，包含基本字段验证

#### 2.1.4 时间管理
- **时间精度**: 精确到天
- **提醒机制**: 任务截止前3天自动提醒
- **逾期处理**: 系统通知和显著提示
- **里程碑提醒**: 支持单独设置提醒时间

### 2.2 权限管理模块

#### 2.2.1 用户角色定义
**部门经理权限**:
- 查看所有任务（包括详细信息）
- 创建、修改、删除任务
- 分配任务负责人
- 查看所有报表和统计数据
- 导出所有类型报表
- 接收任务延期通知

**管理员权限**:
- 用户管理（添加、删除、修改用户信息）
- 系统配置管理
- 所有功能权限（包括部门经理的所有权限）
- 文件删除权限
- 操作日志查询
- 接收任务延期通知

**团队成员权限**:
- 查看自己负责的任务（完整权限）
- 查看同事负责的任务（仅查看，不可修改）
- 更新自己任务的进度和状态
- 上传任务相关文件
- 查看自己的工作统计
- 导出自己创建的任务报表

#### 2.2.2 权限控制规则
- 一个用户只能拥有一个角色
- 不支持角色继承或多角色并存
- 数据访问遵循最小权限原则

### 2.3 文件管理模块

#### 2.3.1 文件操作功能
- **上传功能**: 支持WORD/PDF/EXCEL/图片格式
- **下载功能**: 所有用户均可下载已上传文件
- **删除功能**: 仅文件上传者和管理员可删除
- **关联功能**: 文件可关联到具体任务（非必填项）

#### 2.3.2 文件限制策略
- **单文件大小**: 小于20MB
- **总存储容量**: 100GB
- **文件清理**: 实施定期清理策略，删除超过1年的文件
- **不支持功能**: 文件版本管理、访问权限控制、在线预览、分类标签

### 2.4 报表管理模块

#### 2.4.1 报表类型
**任务完成情况报表**:
- 包含字段：任务名称、开始时间、负责人、完成时间、是否延期、里程碑事件
- 支持按时间范围、负责人、任务状态筛选
- 导出格式：Excel/Word/PDF

**项目进度报表**:
- 项目整体进度统计
- 任务完成率分析
- 里程碑达成情况
- 导出格式：Excel/Word/PDF

#### 2.4.2 报表权限
- **部门经理/管理员**: 可导出所有报表
- **团队成员**: 仅可导出自己创建的任务完成情况报表
- **自定义筛选**: 支持多维度筛选条件

### 2.5 看板模块

#### 2.5.1 显示内容
- 任务名称和基本信息
- 任务时间节点
- 进度标识
- 负责人信息

#### 2.5.2 视图功能
- **多种分组视图**: 按状态、按人员、按项目分组
- **展示方式**: 列表式展示（非卡片式）
- **交互功能**: 不支持拖拽操作
- **甘特图**: 单独页面展示，存续于项目下

### 2.6 甘特图模块

#### 2.6.1 功能特性
- **时间精度**: 精确到周
- **关键路径**: 支持显示关键路径
- **导出功能**: 支持图片格式导出
- **技术实现**: 使用成熟的前端甘特图组件库

#### 2.6.2 显示内容
- 任务时间轴
- 任务依赖关系
- 里程碑事件标记
- 进度完成情况

### 2.7 数据统计模块

#### 2.7.1 统计维度
- **时间维度**: 周、月、季度、半年、年度统计
- **任务类型**: 按生产运行、项目管理、综合工作分类统计
- **人员维度**: 可按负责人筛选统计

#### 2.7.2 统计指标
- **任务数量统计**: 总数、完成数、进行中、逾期数
- **完成率统计**: 按时间段和人员的完成率
- **工作量统计**: 按任务数量和时长统计（不记录工时）

#### 2.7.3 图表展示
- **图表类型**: 柱状图、饼图、趋势图
- **不支持功能**: 对比分析功能

### 2.8 通知管理模块

#### 2.8.1 通知场景
- **任务超期通知**: 自动检测并通知相关人员
- **任务负责人变更通知**: 转移任务时通知原负责人和新负责人
- **任务截止提醒**: 截止前3天自动提醒
- **里程碑提醒**: 按设定时间提醒
- **延期通知**: 任务延期时通知部门经理和管理员

#### 2.8.2 通知方式
- **系统内通知**: 通过主页通知栏展示
- **通知保留**: 保留2周后自动清理
- **扩展接口**: 预留邮件和短信通知接口（暂不实现）

### 2.9 后台管理模块

#### 2.9.1 用户管理
- 用户信息的增删改查
- 用户角色分配
- 用户状态管理（启用/禁用）

#### 2.9.2 系统配置
- 系统参数配置
- 通知设置管理
- 文件清理策略配置

#### 2.9.3 日志管理
- **操作日志**: 记录用户的关键操作
- **系统日志**: 记录系统异常和错误信息
- **日志查询**: 提供查询界面，支持按时间、用户、操作类型筛选

### 2.10 数据导入导出模块

#### 2.10.1 数据导入
- **任务批量导入**: 支持Excel模板导入
- **数据验证**: 基本字段格式和必填项验证
- **错误处理**: 提供导入结果反馈和错误提示

#### 2.10.2 数据导出
- **报表导出**: 支持Excel/Word/PDF格式
- **任务数据导出**: 支持任务列表和详细信息导出
- **基础数据备份**: 提供系统数据导出功能

## 3. 技术需求

### 3.1 系统架构
- **部署方式**: Web应用
- **架构模式**: B/S架构
- **数据库**: MySQL 或 PostgreSQL
- **前端技术**: Vue.js
- **移动端**: 不需要专门的移动端支持

### 3.2 性能要求
- **并发用户**: 支持20人同时在线
- **响应时间**: 页面加载时间不超过3秒
- **数据处理**: 支持单项目最多20个任务的管理

### 3.3 安全要求
- **用户认证**: 基础的用户名密码认证
- **密码策略**: 系统自定义，不需要过于复杂
- **数据安全**: 基础安全需求，防止SQL注入等常见攻击
- **操作审计**: 记录关键操作日志

### 3.4 兼容性要求
- **浏览器支持**: Chrome、Firefox、Edge主流浏览器
- **操作系统**: 无特殊要求，支持Windows、Mac、Linux

## 4. 业务流程

### 4.1 任务创建流程
1. 用户登录系统
2. 选择创建任务类型（一级/二级/子任务）
3. 填写任务基本信息
4. 设置任务时间和负责人
5. 可选设置协助人员、依赖关系、里程碑
6. 保存任务，系统自动通知相关人员

### 4.2 任务执行流程
1. 负责人接收任务通知
2. 查看任务详情和要求
3. 更新任务状态和进度
4. 上传相关文件和添加评论
5. 完成任务步骤（To-Do List）
6. 任务完成后等待创建者确认

### 4.3 任务延期流程
1. 负责人发现任务可能延期
2. 在系统中申请延期并填写原因
3. 系统自动通知部门经理和管理员
4. 记录延期日志
5. 相关人员查看延期信息并采取必要措施

### 4.4 任务转移流程
1. 当前负责人或管理员发起转移申请
2. 选择新的负责人
3. 填写转移原因
4. 系统通知原负责人和新负责人
5. 记录转移日志

## 5. 界面设计要求

### 5.1 整体设计原则
- **简洁明了**: 界面布局清晰，操作简单直观
- **响应式设计**: 适配不同屏幕尺寸
- **一致性**: 保持整体风格和交互的一致性

### 5.2 主要页面
- **登录页面**: 简洁的用户认证界面
- **主页面**: 包含任务概览、通知栏、快捷操作
- **任务管理页面**: 任务列表、创建、编辑功能
- **看板页面**: 可视化任务展示
- **甘特图页面**: 项目时间轴展示
- **报表页面**: 数据统计和报表生成
- **个人中心**: 个人信息和设置
- **后台管理**: 系统管理功能（管理员可见）

### 5.3 交互设计
- **操作反馈**: 所有操作提供明确的成功/失败反馈
- **数据验证**: 实时表单验证和错误提示
- **加载状态**: 数据加载时显示进度指示

## 6. 数据设计

### 6.1 核心数据实体
- **用户表**: 存储用户基本信息和角色
- **任务表**: 存储任务的所有属性信息
- **任务依赖表**: 存储任务间的依赖关系
- **任务步骤表**: 存储任务的To-Do List
- **文件表**: 存储上传文件的信息
- **评论表**: 存储任务评论信息
- **通知表**: 存储系统通知信息
- **操作日志表**: 存储用户操作记录

### 6.2 数据备份策略
- **定期备份**: 建议每日进行数据备份
- **数据导出**: 提供手动数据导出功能
- **数据清理**: 定期清理过期通知和日志数据

## 7. 测试要求

### 7.1 功能测试
- 所有功能模块的完整测试
- 用户权限和数据安全测试
- 业务流程的端到端测试

### 7.2 性能测试
- 20用户并发访问测试
- 大数据量下的系统响应测试
- 文件上传下载性能测试

### 7.3 兼容性测试
- 主流浏览器兼容性测试
- 不同操作系统下的功能测试

## 8. 实施计划

### 8.1 开发阶段
- **第一阶段（4周）**: 基础框架搭建、用户管理、任务基础功能
- **第二阶段（4周）**: 任务高级功能、文件管理、权限控制
- **第三阶段（3周）**: 报表统计、看板展示、甘特图
- **第四阶段（2周）**: 通知系统、后台管理、数据导入导出
- **第五阶段（2周）**: 系统测试、bug修复、部署上线

### 8.2 预期交付时间
- **总开发周期**: 15周（约3.5个月）
- **测试周期**: 2周
- **部署上线**: 1周
- **总项目周期**: 18周（约4个月）

## 9. 风险评估

### 9.1 技术风险
- **甘特图组件**: 需要选择合适的前端组件库
- **批量导入**: Excel解析和数据验证的复杂性
- **依赖关系**: 任务依赖的逻辑处理

### 9.2 业务风险
- **需求变更**: 开发过程中可能的需求调整
- **用户接受度**: 新系统的用户培训和接受

### 9.3 风险应对
- 提前进行技术预研和组件选型
- 建立需求变更控制流程
- 制定用户培训计划

## 10. 附录

### 10.1 术语定义
- **一级任务**: 系统中的顶层任务，直接创建的主要工作任务
- **里程碑**: 项目或任务中的重要时间节点
- **甘特图**: 显示项目进度的条形图表
- **关键路径**: 项目中最长的任务序列路径

### 10.2 参考文档
- 原始需求说明文档
- 需求澄清记录
- 技术选型调研报告

---

**文档状态**: 已确认  
**批准人**: [待填写]  
**批准日期**: [待填写]