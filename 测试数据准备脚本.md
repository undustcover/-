# 测试数据准备脚本

## 📋 文档信息
- **文档名称**: 测试数据准备脚本
- **创建日期**: 2025-01-08
- **版本**: v1.0
- **目的**: 为系统功能测试提供完整的测试数据准备指南
- **原则**: 所有数据必须通过前端页面创建

---

## 🎯 测试数据准备概述

### 数据准备原则
- ✅ **严格遵循**: 所有测试数据必须通过前端页面输入创建
- ❌ **严格禁止**: 直接在后端数据库中插入测试数据
- ✅ **推荐方式**: 使用系统提供的批量导入功能（如果存在）
- ✅ **数据完整性**: 确保测试数据覆盖所有业务场景

### 数据准备顺序
1. **用户数据** → 2. **任务数据** → 3. **文件数据** → 4. **关系数据**

---

## 👥 1. 用户数据准备

### 1.1 基础用户创建

**访问地址**: http://localhost:5173/register

**用户数据清单**:

```
管理员用户:
- 用户名: admin_test
- 邮箱: admin@test.com
- 密码: Admin123456
- 真实姓名: 系统管理员
- 角色: 管理员
- 部门: 信息技术部

部门经理用户:
- 用户名: manager_dev
- 邮箱: manager.dev@test.com
- 密码: Manager123456
- 真实姓名: 开发部经理
- 角色: 部门经理
- 部门: 开发部

- 用户名: manager_test
- 邮箱: manager.test@test.com
- 密码: Manager123456
- 真实姓名: 测试部经理
- 角色: 部门经理
- 部门: 测试部

团队成员用户:
- 用户名: dev_frontend
- 邮箱: dev.frontend@test.com
- 密码: Dev123456
- 真实姓名: 前端开发工程师
- 角色: 团队成员
- 部门: 开发部

- 用户名: dev_backend
- 邮箱: dev.backend@test.com
- 密码: Dev123456
- 真实姓名: 后端开发工程师
- 角色: 团队成员
- 部门: 开发部

- 用户名: tester_qa
- 邮箱: tester.qa@test.com
- 密码: Test123456
- 真实姓名: 质量保证工程师
- 角色: 团队成员
- 部门: 测试部

- 用户名: designer_ui
- 邮箱: designer.ui@test.com
- 密码: Design123456
- 真实姓名: UI设计师
- 角色: 团队成员
- 部门: 设计部
```

### 1.2 用户创建操作步骤

**步骤1**: 创建管理员用户
1. 打开浏览器，访问 http://localhost:5173/register
2. 填写管理员用户信息
3. 点击"注册"按钮
4. 验证注册成功
5. 退出登录

**步骤2**: 创建部门经理用户
1. 重复注册流程，创建2个部门经理用户
2. 每次注册后退出登录

**步骤3**: 创建团队成员用户
1. 重复注册流程，创建4个团队成员用户
2. 每次注册后退出登录

**验证标准**:
- ✅ 所有用户注册成功
- ✅ 用户信息完整保存
- ✅ 不同角色权限正确分配
- ✅ 登录功能正常

---

## 📋 2. 任务数据准备

### 2.1 项目层级任务创建

**前置条件**: 使用部门经理账号登录
**访问地址**: http://localhost:5173/tasks/create

**一级项目任务**:

```
项目1: 部门工作任务管理系统开发
- 任务名称: 部门工作任务管理系统开发
- 任务描述: 开发一个完整的部门工作任务管理系统，包含任务管理、权限控制、文件管理、报表统计等功能模块
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-01
- 结束时间: 2025-03-31
- 负责人: manager_dev
- 状态: 进行中

项目2: 系统功能测试项目
- 任务名称: 系统功能测试项目
- 任务描述: 对部门工作任务管理系统进行全面的功能测试，确保系统质量和用户体验
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-08
- 结束时间: 2025-01-20
- 负责人: manager_test
- 状态: 未开始

项目3: 系统部署和上线
- 任务名称: 系统部署和上线
- 任务描述: 将测试通过的系统部署到生产环境，并进行上线准备工作
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-21
- 结束时间: 2025-02-10
- 负责人: admin_test
- 状态: 未开始
```

### 2.2 二级功能模块任务创建

**基于项目1创建子任务**:

```
前端开发模块:
- 任务名称: 前端界面开发
- 父任务: 部门工作任务管理系统开发
- 任务描述: 开发系统的前端用户界面，包括所有页面和交互功能
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-05
- 结束时间: 2025-02-20
- 负责人: dev_frontend
- 状态: 进行中

后端开发模块:
- 任务名称: 后端API开发
- 父任务: 部门工作任务管理系统开发
- 任务描述: 开发系统的后端API接口，包括数据库设计和业务逻辑实现
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-02
- 结束时间: 2025-02-15
- 负责人: dev_backend
- 状态: 进行中

UI设计模块:
- 任务名称: 系统UI设计
- 父任务: 部门工作任务管理系统开发
- 任务描述: 设计系统的用户界面，包括页面布局、交互设计和视觉设计
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-01
- 结束时间: 2025-01-15
- 负责人: designer_ui
- 状态: 已完成
```

**基于项目2创建子任务**:

```
功能测试模块:
- 任务名称: 系统功能测试
- 父任务: 系统功能测试项目
- 任务描述: 对系统所有功能模块进行详细的功能测试
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-08
- 结束时间: 2025-01-15
- 负责人: tester_qa
- 状态: 未开始

性能测试模块:
- 任务名称: 系统性能测试
- 父任务: 系统功能测试项目
- 任务描述: 对系统进行性能测试，包括并发测试、压力测试等
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-16
- 结束时间: 2025-01-18
- 负责人: tester_qa
- 状态: 未开始

测试报告编写:
- 任务名称: 测试报告编写
- 父任务: 系统功能测试项目
- 任务描述: 编写详细的测试报告，总结测试结果和发现的问题
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-19
- 结束时间: 2025-01-20
- 负责人: manager_test
- 状态: 未开始
```

### 2.3 三级具体任务创建

**基于前端开发模块创建具体任务**:

```
登录注册页面:
- 任务名称: 用户登录注册页面开发
- 父任务: 前端界面开发
- 任务描述: 开发用户登录和注册页面，包括表单验证和错误处理
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-05
- 结束时间: 2025-01-08
- 负责人: dev_frontend
- 状态: 已完成

任务管理页面:
- 任务名称: 任务管理页面开发
- 父任务: 前端界面开发
- 任务描述: 开发任务列表、创建、编辑、详情等页面
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-09
- 结束时间: 2025-01-20
- 负责人: dev_frontend
- 状态: 进行中

看板页面:
- 任务名称: 看板页面开发
- 父任务: 前端界面开发
- 任务描述: 开发任务看板页面，支持拖拽和状态切换
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-21
- 结束时间: 2025-01-30
- 负责人: dev_frontend
- 状态: 未开始

甘特图页面:
- 任务名称: 甘特图页面开发
- 父任务: 前端界面开发
- 任务描述: 开发项目甘特图页面，显示任务时间线和依赖关系
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-31
- 结束时间: 2025-02-10
- 负责人: dev_frontend
- 状态: 未开始

报表页面:
- 任务名称: 报表管理页面开发
- 父任务: 前端界面开发
- 任务描述: 开发报表生成和导出页面
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-02-11
- 结束时间: 2025-02-20
- 负责人: dev_frontend
- 状态: 未开始
```

**基于后端开发模块创建具体任务**:

```
用户认证API:
- 任务名称: 用户认证API开发
- 父任务: 后端API开发
- 任务描述: 开发用户注册、登录、权限验证等API接口
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-02
- 结束时间: 2025-01-08
- 负责人: dev_backend
- 状态: 已完成

任务管理API:
- 任务名称: 任务管理API开发
- 父任务: 后端API开发
- 任务描述: 开发任务CRUD、状态管理、分配等API接口
- 任务类型: 项目管理工作
- 优先级: 高
- 开始时间: 2025-01-09
- 结束时间: 2025-01-20
- 负责人: dev_backend
- 状态: 进行中

文件管理API:
- 任务名称: 文件管理API开发
- 父任务: 后端API开发
- 任务描述: 开发文件上传、下载、删除等API接口
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-21
- 结束时间: 2025-01-30
- 负责人: dev_backend
- 状态: 未开始

报表统计API:
- 任务名称: 报表统计API开发
- 父任务: 后端API开发
- 任务描述: 开发数据统计和报表生成API接口
- 任务类型: 项目管理工作
- 优先级: 中
- 开始时间: 2025-01-31
- 结束时间: 2025-02-15
- 负责人: dev_backend
- 状态: 未开始
```

### 2.4 任务依赖关系设置

**依赖关系配置**:

```
设计 → 开发依赖:
- "系统UI设计" 完成后，"前端界面开发" 才能开始
- "系统UI设计" 完成后，"后端API开发" 才能开始

前后端协调依赖:
- "用户认证API开发" 完成后，"用户登录注册页面开发" 才能完成
- "任务管理API开发" 完成后，"任务管理页面开发" 才能完成

开发 → 测试依赖:
- "前端界面开发" 完成后，"系统功能测试" 才能开始
- "后端API开发" 完成后，"系统功能测试" 才能开始

测试 → 部署依赖:
- "系统功能测试项目" 完成后，"系统部署和上线" 才能开始
```

### 2.5 任务创建操作步骤

**步骤1**: 创建一级项目任务
1. 使用部门经理账号登录
2. 进入任务创建页面
3. 按照数据清单创建3个一级项目任务
4. 验证任务创建成功

**步骤2**: 创建二级功能模块任务
1. 为每个一级项目创建对应的子任务
2. 设置正确的父子关系
3. 分配合适的负责人

**步骤3**: 创建三级具体任务
1. 为每个二级任务创建具体的子任务
2. 设置详细的时间计划
3. 确保任务层级关系正确

**步骤4**: 设置任务依赖关系
1. 根据依赖关系配置，设置任务间的依赖
2. 验证依赖关系显示正确

**验证标准**:
- ✅ 任务层级结构清晰
- ✅ 任务信息完整准确
- ✅ 负责人分配合理
- ✅ 依赖关系设置正确
- ✅ 时间计划合理可行

---

## 📁 3. 文件数据准备

### 3.1 测试文件准备

**文件类型和规格**:

```
文档类文件:
- 需求文档.docx (Word文档, 2MB)
- 设计方案.pdf (PDF文档, 3MB)
- 项目计划.xlsx (Excel文档, 1MB)
- 会议纪要.txt (文本文档, 50KB)

图片类文件:
- 系统架构图.jpg (图片文件, 1.5MB)
- UI设计稿.png (图片文件, 2MB)
- 流程图.svg (矢量图, 500KB)

压缩包文件:
- 源代码备份.zip (压缩包, 5MB)
- 设计素材.rar (压缩包, 3MB)

边界测试文件:
- 大文件测试.pdf (PDF文档, 15MB) - 测试文件大小限制
- 特殊字符文件名_测试@#$.docx - 测试文件名处理
- 空文件.txt (0KB) - 测试空文件处理
```

### 3.2 文件创建方法

**Word文档创建**:
1. 创建"需求文档.docx"
   - 内容：系统需求说明书的部分内容
   - 包含：文字、表格、图片
   - 大小：控制在2MB左右

**PDF文档创建**:
1. 创建"设计方案.pdf"
   - 内容：系统设计方案文档
   - 包含：多页内容、图表
   - 大小：控制在3MB左右

**Excel文档创建**:
1. 创建"项目计划.xlsx"
   - 内容：项目时间计划表
   - 包含：多个工作表、公式、图表
   - 大小：控制在1MB左右

**图片文件创建**:
1. 准备系统相关的截图或设计图
2. 调整文件大小到指定范围
3. 使用不同的图片格式

### 3.3 文件上传操作步骤

**步骤1**: 准备测试文件
1. 按照文件清单创建或准备所有测试文件
2. 确保文件大小和格式符合要求
3. 验证文件可以正常打开

**步骤2**: 上传文件到任务
1. 登录系统（使用不同角色用户）
2. 进入任务详情页面
3. 使用文件上传功能上传测试文件
4. 为每个任务上传2-3个相关文件

**步骤3**: 上传文件到文件管理
1. 进入文件管理页面
2. 上传各种类型的测试文件
3. 测试文件分类和组织功能

**步骤4**: 测试边界情况
1. 上传大文件，测试大小限制
2. 上传特殊文件名，测试文件名处理
3. 上传不支持格式，测试格式限制

**验证标准**:
- ✅ 所有有效文件上传成功
- ✅ 文件信息正确显示
- ✅ 文件可以正常下载
- ✅ 无效文件被正确拒绝
- ✅ 文件权限控制正确

---

## 🔗 4. 关系数据准备

### 4.1 用户角色关系

**部门组织关系**:
```
信息技术部:
- 管理员: admin_test

开发部:
- 部门经理: manager_dev
- 团队成员: dev_frontend, dev_backend

测试部:
- 部门经理: manager_test
- 团队成员: tester_qa

设计部:
- 团队成员: designer_ui
```

**任务分配关系**:
```
项目经理分配:
- manager_dev → 负责"部门工作任务管理系统开发"
- manager_test → 负责"系统功能测试项目"
- admin_test → 负责"系统部署和上线"

开发任务分配:
- dev_frontend → 负责所有前端相关任务
- dev_backend → 负责所有后端相关任务
- designer_ui → 负责所有设计相关任务
- tester_qa → 负责所有测试相关任务
```

### 4.2 任务状态分布

**状态分布设计**:
```
已完成任务 (30%):
- 系统UI设计
- 用户登录注册页面开发
- 用户认证API开发

进行中任务 (40%):
- 部门工作任务管理系统开发
- 前端界面开发
- 后端API开发
- 任务管理页面开发
- 任务管理API开发

未开始任务 (30%):
- 系统功能测试项目
- 系统部署和上线
- 看板页面开发
- 甘特图页面开发
- 报表页面开发
- 文件管理API开发
- 报表统计API开发
```

### 4.3 通知数据准备

**通知触发场景**:
```
任务分配通知:
- 为每个新创建的任务触发分配通知
- 负责人应收到任务分配通知

状态变更通知:
- 将部分任务状态从"未开始"改为"进行中"
- 将部分任务状态从"进行中"改为"已完成"
- 相关人员应收到状态变更通知

延期通知:
- 设置部分任务的延期
- 管理员和项目经理应收到延期通知

截止提醒:
- 创建即将到期的任务（3天内到期）
- 负责人应收到截止提醒
```

---

## 📊 5. 数据验证和质量检查

### 5.1 数据完整性检查

**用户数据检查**:
- ✅ 所有角色的用户都已创建
- ✅ 用户信息完整准确
- ✅ 用户可以正常登录
- ✅ 用户权限分配正确

**任务数据检查**:
- ✅ 任务层级结构完整
- ✅ 任务信息详细准确
- ✅ 任务分配合理
- ✅ 任务状态分布合理
- ✅ 依赖关系设置正确

**文件数据检查**:
- ✅ 文件类型覆盖全面
- ✅ 文件大小分布合理
- ✅ 文件可以正常访问
- ✅ 文件关联关系正确

**关系数据检查**:
- ✅ 用户角色关系正确
- ✅ 任务分配关系合理
- ✅ 部门组织关系清晰
- ✅ 通知数据完整

### 5.2 数据一致性验证

**跨模块数据一致性**:
- ✅ 用户在各模块中信息一致
- ✅ 任务在不同视图中显示一致
- ✅ 文件关联关系在各处一致
- ✅ 权限控制在各功能中一致

**时间数据一致性**:
- ✅ 任务时间计划合理
- ✅ 依赖关系时间逻辑正确
- ✅ 通知时间戳准确
- ✅ 文件上传时间正确

### 5.3 边界数据准备

**边界测试数据**:
```
最大值测试:
- 任务名称: 255个字符的长任务名称
- 任务描述: 2000个字符的详细描述
- 文件大小: 接近系统限制的大文件

最小值测试:
- 任务名称: 1个字符的任务名称
- 任务描述: 空描述
- 文件大小: 0KB的空文件

特殊字符测试:
- 包含特殊字符的任务名称: "测试@#$%^&*()任务"
- 包含emoji的描述: "这是一个测试任务 😊 🚀"
- 特殊字符文件名: "测试_文件@#$.docx"

并发测试数据:
- 同时创建多个任务
- 同时上传多个文件
- 多用户同时操作同一任务
```

---

## 🔄 6. 数据准备执行计划

### 6.1 执行时间安排

**第一天：基础数据准备**
- 上午：创建所有测试用户（2小时）
- 下午：创建一级和二级任务（3小时）

**第二天：详细数据准备**
- 上午：创建三级具体任务（2小时）
- 下午：设置任务依赖关系（2小时）

**第三天：文件和关系数据**
- 上午：准备和上传测试文件（2小时）
- 下午：设置关系数据和触发通知（2小时）

**第四天：数据验证**
- 上午：数据完整性检查（2小时）
- 下午：数据一致性验证（2小时）

### 6.2 执行人员分工

**数据准备负责人**:
- 用户数据：测试工程师A
- 任务数据：测试工程师B
- 文件数据：测试工程师A
- 关系数据：测试工程师B
- 数据验证：测试经理

### 6.3 质量控制措施

**数据准备质量控制**:
1. **双人检查**：每类数据由两人分别验证
2. **分阶段验证**：每完成一类数据立即验证
3. **交叉验证**：不同人员交叉检查数据质量
4. **自动化检查**：使用脚本检查数据一致性

**问题处理流程**:
1. 发现数据问题立即记录
2. 分析问题原因和影响范围
3. 制定修复方案
4. 执行修复并重新验证
5. 更新数据准备文档

---

## 📋 7. 数据准备检查清单

### 7.1 用户数据检查清单

- [ ] 管理员用户创建完成
- [ ] 部门经理用户创建完成（2个）
- [ ] 团队成员用户创建完成（4个）
- [ ] 所有用户信息完整
- [ ] 所有用户可以正常登录
- [ ] 用户角色权限正确分配
- [ ] 用户部门关系设置正确

### 7.2 任务数据检查清单

- [ ] 一级项目任务创建完成（3个）
- [ ] 二级功能模块任务创建完成（9个）
- [ ] 三级具体任务创建完成（15个）
- [ ] 任务层级关系设置正确
- [ ] 任务负责人分配合理
- [ ] 任务时间计划设置完整
- [ ] 任务依赖关系设置正确
- [ ] 任务状态分布合理
- [ ] 任务优先级设置合理

### 7.3 文件数据检查清单

- [ ] 文档类文件准备完成（4个）
- [ ] 图片类文件准备完成（3个）
- [ ] 压缩包文件准备完成（2个）
- [ ] 边界测试文件准备完成（3个）
- [ ] 所有文件上传成功
- [ ] 文件关联到任务正确
- [ ] 文件权限设置正确
- [ ] 文件可以正常下载

### 7.4 关系数据检查清单

- [ ] 用户角色关系设置正确
- [ ] 部门组织关系清晰
- [ ] 任务分配关系合理
- [ ] 任务依赖关系正确
- [ ] 通知数据完整
- [ ] 权限控制关系正确

### 7.5 数据质量检查清单

- [ ] 数据完整性验证通过
- [ ] 数据一致性验证通过
- [ ] 边界数据准备完成
- [ ] 跨模块数据一致
- [ ] 时间数据逻辑正确
- [ ] 特殊字符处理正确

---

## 📝 8. 数据准备记录模板

### 8.1 用户创建记录

```
用户创建记录表

创建日期: [YYYY-MM-DD]
创建人员: [操作人员姓名]

用户信息:
- 用户名: [username]
- 邮箱: [email]
- 角色: [role]
- 部门: [department]
- 创建状态: [成功/失败]
- 登录测试: [通过/失败]
- 备注: [其他说明]
```

### 8.2 任务创建记录

```
任务创建记录表

创建日期: [YYYY-MM-DD]
创建人员: [操作人员姓名]

任务信息:
- 任务名称: [task_name]
- 任务类型: [task_type]
- 父任务: [parent_task]
- 负责人: [assignee]
- 优先级: [priority]
- 状态: [status]
- 创建状态: [成功/失败]
- 备注: [其他说明]
```

### 8.3 文件上传记录

```
文件上传记录表

上传日期: [YYYY-MM-DD]
上传人员: [操作人员姓名]

文件信息:
- 文件名称: [filename]
- 文件类型: [file_type]
- 文件大小: [file_size]
- 关联任务: [related_task]
- 上传状态: [成功/失败]
- 下载测试: [通过/失败]
- 备注: [其他说明]
```

---

**文档状态**: 待执行  
**审核人**: [待填写]  
**批准日期**: [待填写]  
**最后更新**: 2025-01-08