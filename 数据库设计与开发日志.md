# æ•°æ®åº“è®¾è®¡ä¸å¼€å‘æ—¥å¿—

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£ç‰ˆæœ¬**: V1.0
- **åˆ›å»ºæ—¥æœŸ**: 2024å¹´
- **é¡¹ç›®åç§°**: éƒ¨é—¨å·¥ä½œä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
- **æ•°æ®åº“ç±»å‹**: MySQL 8.0
- **å­—ç¬¦é›†**: utf8mb4
- **æ’åºè§„åˆ™**: utf8mb4_unicode_ci

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡è§„èŒƒ

### å‘½åè§„èŒƒ
1. **è¡¨å**: ä½¿ç”¨å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿ï¼Œå¤æ•°å½¢å¼ (å¦‚: `users`, `tasks`)
2. **å­—æ®µå**: ä½¿ç”¨å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿ (å¦‚: `user_id`, `created_at`)
3. **ç´¢å¼•å**: `idx_è¡¨å_å­—æ®µå` (å¦‚: `idx_tasks_assignee_id`)
4. **å¤–é”®å**: `fk_è¡¨å_å­—æ®µå` (å¦‚: `fk_tasks_assignee_id`)

### æ•°æ®ç±»å‹è§„èŒƒ
1. **ä¸»é”®**: `BIGINT UNSIGNED AUTO_INCREMENT`
2. **å¤–é”®**: `BIGINT UNSIGNED`
3. **æ—¶é—´æˆ³**: `TIMESTAMP` (ä½¿ç”¨UTCæ—¶é—´)
4. **æ–‡æœ¬**: `VARCHAR(255)` æˆ– `TEXT`
5. **çŠ¶æ€æšä¸¾**: `ENUM` æˆ– `VARCHAR(50)`
6. **å¸ƒå°”å€¼**: `TINYINT(1)`

### é€šç”¨å­—æ®µ
æ¯ä¸ªè¡¨éƒ½åº”åŒ…å«ä»¥ä¸‹å­—æ®µ:
- `id`: ä¸»é”®
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´
- `deleted_at`: è½¯åˆ é™¤æ—¶é—´ (å¯é€‰)

---

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡

### 1. ç”¨æˆ·è¡¨ (users)
**è¡¨ç”¨é€”**: å­˜å‚¨ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯

```sql
CREATE TABLE `users` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `username` VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
  `password` VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œ',
  `name` VARCHAR(100) NOT NULL COMMENT 'çœŸå®å§“å',
  `email` VARCHAR(255) NOT NULL UNIQUE COMMENT 'é‚®ç®±åœ°å€',
  `role` ENUM('admin', 'manager', 'member') NOT NULL DEFAULT 'member' COMMENT 'ç”¨æˆ·è§’è‰²',
  `status` ENUM('active', 'inactive') NOT NULL DEFAULT 'active' COMMENT 'ç”¨æˆ·çŠ¶æ€',
  `avatar` VARCHAR(255) NULL COMMENT 'å¤´åƒè·¯å¾„',
  `phone` VARCHAR(20) NULL COMMENT 'æ‰‹æœºå·ç ',
  `department` VARCHAR(100) NULL COMMENT 'éƒ¨é—¨',
  `position` VARCHAR(100) NULL COMMENT 'èŒä½',
  `last_login_at` TIMESTAMP NULL COMMENT 'æœ€åç™»å½•æ—¶é—´',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  
  INDEX `idx_users_username` (`username`),
  INDEX `idx_users_email` (`email`),
  INDEX `idx_users_role` (`role`),
  INDEX `idx_users_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”¨æˆ·è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 2. ä»»åŠ¡è¡¨ (tasks)
**è¡¨ç”¨é€”**: å­˜å‚¨ä»»åŠ¡åŸºæœ¬ä¿¡æ¯

```sql
CREATE TABLE `tasks` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `title` VARCHAR(200) NOT NULL COMMENT 'ä»»åŠ¡æ ‡é¢˜',
  `description` TEXT NULL COMMENT 'ä»»åŠ¡æè¿°',
  `status` ENUM('pending', 'in_progress', 'completed', 'paused', 'cancelled') NOT NULL DEFAULT 'pending' COMMENT 'ä»»åŠ¡çŠ¶æ€',
  `priority` ENUM('high', 'medium', 'low') NOT NULL DEFAULT 'medium' COMMENT 'ä¼˜å…ˆçº§',
  `category` ENUM('production', 'project', 'comprehensive') NOT NULL COMMENT 'ä»»åŠ¡ç±»åˆ«',
  `start_date` DATE NOT NULL COMMENT 'å¼€å§‹æ—¥æœŸ',
  `end_date` DATE NOT NULL COMMENT 'ç»“æŸæ—¥æœŸ',
  `progress` TINYINT UNSIGNED DEFAULT 0 COMMENT 'å®Œæˆè¿›åº¦(0-100)',
  `assignee_id` BIGINT UNSIGNED NOT NULL COMMENT 'è´Ÿè´£äººID',
  `created_by` BIGINT UNSIGNED NOT NULL COMMENT 'åˆ›å»ºäººID',
  `parent_id` BIGINT UNSIGNED NULL COMMENT 'çˆ¶ä»»åŠ¡ID',
  `level` TINYINT UNSIGNED DEFAULT 1 COMMENT 'ä»»åŠ¡å±‚çº§(1-3)',
  `sort_order` INT DEFAULT 0 COMMENT 'æ’åºåºå·',
  `estimated_hours` DECIMAL(8,2) NULL COMMENT 'é¢„ä¼°å·¥æ—¶',
  `actual_hours` DECIMAL(8,2) NULL COMMENT 'å®é™…å·¥æ—¶',
  `completion_confirmed_by` BIGINT UNSIGNED NULL COMMENT 'å®Œæˆç¡®è®¤äººID',
  `completion_confirmed_at` TIMESTAMP NULL COMMENT 'å®Œæˆç¡®è®¤æ—¶é—´',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  
  INDEX `idx_tasks_assignee_id` (`assignee_id`),
  INDEX `idx_tasks_created_by` (`created_by`),
  INDEX `idx_tasks_parent_id` (`parent_id`),
  INDEX `idx_tasks_status` (`status`),
  INDEX `idx_tasks_priority` (`priority`),
  INDEX `idx_tasks_category` (`category`),
  INDEX `idx_tasks_start_date` (`start_date`),
  INDEX `idx_tasks_end_date` (`end_date`),
  INDEX `idx_tasks_level` (`level`),
  
  FOREIGN KEY `fk_tasks_assignee_id` (`assignee_id`) REFERENCES `users` (`id`) ON DELETE RESTRICT,
  FOREIGN KEY `fk_tasks_created_by` (`created_by`) REFERENCES `users` (`id`) ON DELETE RESTRICT,
  FOREIGN KEY `fk_tasks_parent_id` (`parent_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE,
  FOREIGN KEY `fk_tasks_completion_confirmed_by` (`completion_confirmed_by`) REFERENCES `users` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 3. ä»»åŠ¡åä½œäººå‘˜è¡¨ (task_collaborators)
**è¡¨ç”¨é€”**: å­˜å‚¨ä»»åŠ¡çš„åä½œäººå‘˜å…³ç³»

```sql
CREATE TABLE `task_collaborators` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `task_id` BIGINT UNSIGNED NOT NULL COMMENT 'ä»»åŠ¡ID',
  `user_id` BIGINT UNSIGNED NOT NULL COMMENT 'åä½œäººå‘˜ID',
  `role` VARCHAR(50) DEFAULT 'collaborator' COMMENT 'åä½œè§’è‰²',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  
  UNIQUE KEY `uk_task_collaborators` (`task_id`, `user_id`),
  INDEX `idx_task_collaborators_task_id` (`task_id`),
  INDEX `idx_task_collaborators_user_id` (`user_id`),
  
  FOREIGN KEY `fk_task_collaborators_task_id` (`task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE,
  FOREIGN KEY `fk_task_collaborators_user_id` (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡åä½œäººå‘˜è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 4. ä»»åŠ¡ä¾èµ–å…³ç³»è¡¨ (task_dependencies)
**è¡¨ç”¨é€”**: å­˜å‚¨ä»»åŠ¡é—´çš„ä¾èµ–å…³ç³»

```sql
CREATE TABLE `task_dependencies` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `task_id` BIGINT UNSIGNED NOT NULL COMMENT 'å½“å‰ä»»åŠ¡ID',
  `depends_on_task_id` BIGINT UNSIGNED NOT NULL COMMENT 'ä¾èµ–çš„ä»»åŠ¡ID',
  `dependency_type` ENUM('finish_to_start', 'start_to_start', 'finish_to_finish', 'start_to_finish') DEFAULT 'finish_to_start' COMMENT 'ä¾èµ–ç±»å‹',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  
  UNIQUE KEY `uk_task_dependencies` (`task_id`, `depends_on_task_id`),
  INDEX `idx_task_dependencies_task_id` (`task_id`),
  INDEX `idx_task_dependencies_depends_on` (`depends_on_task_id`),
  
  FOREIGN KEY `fk_task_dependencies_task_id` (`task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE,
  FOREIGN KEY `fk_task_dependencies_depends_on` (`depends_on_task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡ä¾èµ–å…³ç³»è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 5. ä»»åŠ¡æ­¥éª¤è¡¨ (task_steps)
**è¡¨ç”¨é€”**: å­˜å‚¨ä»»åŠ¡çš„To-Do Listæ­¥éª¤

```sql
CREATE TABLE `task_steps` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `task_id` BIGINT UNSIGNED NOT NULL COMMENT 'ä»»åŠ¡ID',
  `title` VARCHAR(200) NOT NULL COMMENT 'æ­¥éª¤æ ‡é¢˜',
  `description` TEXT NULL COMMENT 'æ­¥éª¤æè¿°',
  `is_completed` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å®Œæˆ',
  `sort_order` INT DEFAULT 0 COMMENT 'æ’åºåºå·',
  `completed_by` BIGINT UNSIGNED NULL COMMENT 'å®ŒæˆäººID',
  `completed_at` TIMESTAMP NULL COMMENT 'å®Œæˆæ—¶é—´',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  
  INDEX `idx_task_steps_task_id` (`task_id`),
  INDEX `idx_task_steps_sort_order` (`sort_order`),
  
  FOREIGN KEY `fk_task_steps_task_id` (`task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE,
  FOREIGN KEY `fk_task_steps_completed_by` (`completed_by`) REFERENCES `users` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡æ­¥éª¤è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 6. é‡Œç¨‹ç¢‘è¡¨ (milestones)
**è¡¨ç”¨é€”**: å­˜å‚¨é¡¹ç›®é‡Œç¨‹ç¢‘ä¿¡æ¯

```sql
CREATE TABLE `milestones` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `task_id` BIGINT UNSIGNED NOT NULL COMMENT 'å…³è”ä»»åŠ¡ID',
  `title` VARCHAR(200) NOT NULL COMMENT 'é‡Œç¨‹ç¢‘æ ‡é¢˜',
  `description` TEXT NULL COMMENT 'é‡Œç¨‹ç¢‘æè¿°',
  `target_date` DATE NOT NULL COMMENT 'ç›®æ ‡æ—¥æœŸ',
  `is_achieved` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦è¾¾æˆ',
  `achieved_date` DATE NULL COMMENT 'å®é™…è¾¾æˆæ—¥æœŸ',
  `reminder_days` TINYINT UNSIGNED DEFAULT 3 COMMENT 'æå‰æé†’å¤©æ•°',
  `created_by` BIGINT UNSIGNED NOT NULL COMMENT 'åˆ›å»ºäººID',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  
  INDEX `idx_milestones_task_id` (`task_id`),
  INDEX `idx_milestones_target_date` (`target_date`),
  INDEX `idx_milestones_created_by` (`created_by`),
  
  FOREIGN KEY `fk_milestones_task_id` (`task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE,
  FOREIGN KEY `fk_milestones_created_by` (`created_by`) REFERENCES `users` (`id`) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='é‡Œç¨‹ç¢‘è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 7. æ–‡ä»¶è¡¨ (files)
**è¡¨ç”¨é€”**: å­˜å‚¨ä¸Šä¼ æ–‡ä»¶ä¿¡æ¯

```sql
CREATE TABLE `files` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `filename` VARCHAR(255) NOT NULL COMMENT 'å­˜å‚¨æ–‡ä»¶å',
  `original_name` VARCHAR(255) NOT NULL COMMENT 'åŸå§‹æ–‡ä»¶å',
  `file_path` VARCHAR(500) NOT NULL COMMENT 'æ–‡ä»¶å­˜å‚¨è·¯å¾„',
  `file_size` BIGINT UNSIGNED NOT NULL COMMENT 'æ–‡ä»¶å¤§å°(å­—èŠ‚)',
  `mime_type` VARCHAR(100) NOT NULL COMMENT 'MIMEç±»å‹',
  `file_extension` VARCHAR(10) NOT NULL COMMENT 'æ–‡ä»¶æ‰©å±•å',
  `task_id` BIGINT UNSIGNED NULL COMMENT 'å…³è”ä»»åŠ¡ID',
  `uploaded_by` BIGINT UNSIGNED NOT NULL COMMENT 'ä¸Šä¼ äººID',
  `description` TEXT NULL COMMENT 'æ–‡ä»¶æè¿°',
  `download_count` INT UNSIGNED DEFAULT 0 COMMENT 'ä¸‹è½½æ¬¡æ•°',
  `is_deleted` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å·²åˆ é™¤',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  
  INDEX `idx_files_task_id` (`task_id`),
  INDEX `idx_files_uploaded_by` (`uploaded_by`),
  INDEX `idx_files_mime_type` (`mime_type`),
  INDEX `idx_files_created_at` (`created_at`),
  
  FOREIGN KEY `fk_files_task_id` (`task_id`) REFERENCES `tasks` (`id`) ON DELETE SET NULL,
  FOREIGN KEY `fk_files_uploaded_by` (`uploaded_by`) REFERENCES `users` (`id`) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ–‡ä»¶è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 8. ä»»åŠ¡è¯„è®ºè¡¨ (task_comments)
**è¡¨ç”¨é€”**: å­˜å‚¨ä»»åŠ¡è¯„è®ºä¿¡æ¯

```sql
CREATE TABLE `task_comments` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `task_id` BIGINT UNSIGNED NOT NULL COMMENT 'ä»»åŠ¡ID',
  `user_id` BIGINT UNSIGNED NOT NULL COMMENT 'è¯„è®ºäººID',
  `content` TEXT NOT NULL COMMENT 'è¯„è®ºå†…å®¹',
  `parent_id` BIGINT UNSIGNED NULL COMMENT 'çˆ¶è¯„è®ºID(å›å¤)',
  `is_deleted` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å·²åˆ é™¤',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  
  INDEX `idx_task_comments_task_id` (`task_id`),
  INDEX `idx_task_comments_user_id` (`user_id`),
  INDEX `idx_task_comments_parent_id` (`parent_id`),
  INDEX `idx_task_comments_created_at` (`created_at`),
  
  FOREIGN KEY `fk_task_comments_task_id` (`task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE,
  FOREIGN KEY `fk_task_comments_user_id` (`user_id`) REFERENCES `users` (`id`) ON DELETE RESTRICT,
  FOREIGN KEY `fk_task_comments_parent_id` (`parent_id`) REFERENCES `task_comments` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡è¯„è®ºè¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 9. é€šçŸ¥è¡¨ (notifications)
**è¡¨ç”¨é€”**: å­˜å‚¨ç³»ç»Ÿé€šçŸ¥ä¿¡æ¯

```sql
CREATE TABLE `notifications` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `user_id` BIGINT UNSIGNED NOT NULL COMMENT 'æ¥æ”¶ç”¨æˆ·ID',
  `title` VARCHAR(200) NOT NULL COMMENT 'é€šçŸ¥æ ‡é¢˜',
  `content` TEXT NOT NULL COMMENT 'é€šçŸ¥å†…å®¹',
  `type` VARCHAR(50) NOT NULL COMMENT 'é€šçŸ¥ç±»å‹',
  `related_type` VARCHAR(50) NULL COMMENT 'å…³è”å¯¹è±¡ç±»å‹',
  `related_id` BIGINT UNSIGNED NULL COMMENT 'å…³è”å¯¹è±¡ID',
  `is_read` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å·²è¯»',
  `read_at` TIMESTAMP NULL COMMENT 'é˜…è¯»æ—¶é—´',
  `priority` ENUM('high', 'medium', 'low') DEFAULT 'medium' COMMENT 'ä¼˜å…ˆçº§',
  `expires_at` TIMESTAMP NULL COMMENT 'è¿‡æœŸæ—¶é—´',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  
  INDEX `idx_notifications_user_id` (`user_id`),
  INDEX `idx_notifications_type` (`type`),
  INDEX `idx_notifications_is_read` (`is_read`),
  INDEX `idx_notifications_created_at` (`created_at`),
  INDEX `idx_notifications_expires_at` (`expires_at`),
  
  FOREIGN KEY `fk_notifications_user_id` (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='é€šçŸ¥è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 10. ä»»åŠ¡å˜æ›´æ—¥å¿—è¡¨ (task_change_logs)
**è¡¨ç”¨é€”**: è®°å½•ä»»åŠ¡çš„æ‰€æœ‰å˜æ›´å†å²

```sql
CREATE TABLE `task_change_logs` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `task_id` BIGINT UNSIGNED NOT NULL COMMENT 'ä»»åŠ¡ID',
  `user_id` BIGINT UNSIGNED NOT NULL COMMENT 'æ“ä½œäººID',
  `action` VARCHAR(50) NOT NULL COMMENT 'æ“ä½œç±»å‹',
  `field_name` VARCHAR(100) NULL COMMENT 'å˜æ›´å­—æ®µå',
  `old_value` TEXT NULL COMMENT 'åŸå€¼',
  `new_value` TEXT NULL COMMENT 'æ–°å€¼',
  `description` TEXT NULL COMMENT 'å˜æ›´æè¿°',
  `ip_address` VARCHAR(45) NULL COMMENT 'IPåœ°å€',
  `user_agent` TEXT NULL COMMENT 'ç”¨æˆ·ä»£ç†',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  
  INDEX `idx_task_change_logs_task_id` (`task_id`),
  INDEX `idx_task_change_logs_user_id` (`user_id`),
  INDEX `idx_task_change_logs_action` (`action`),
  INDEX `idx_task_change_logs_created_at` (`created_at`),
  
  FOREIGN KEY `fk_task_change_logs_task_id` (`task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE,
  FOREIGN KEY `fk_task_change_logs_user_id` (`user_id`) REFERENCES `users` (`id`) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä»»åŠ¡å˜æ›´æ—¥å¿—è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 11. ç³»ç»Ÿæ“ä½œæ—¥å¿—è¡¨ (system_logs)
**è¡¨ç”¨é€”**: è®°å½•ç³»ç»Ÿå…³é”®æ“ä½œæ—¥å¿—

```sql
CREATE TABLE `system_logs` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `user_id` BIGINT UNSIGNED NULL COMMENT 'æ“ä½œäººID',
  `action` VARCHAR(100) NOT NULL COMMENT 'æ“ä½œç±»å‹',
  `module` VARCHAR(50) NOT NULL COMMENT 'æ“ä½œæ¨¡å—',
  `description` TEXT NOT NULL COMMENT 'æ“ä½œæè¿°',
  `request_data` JSON NULL COMMENT 'è¯·æ±‚æ•°æ®',
  `response_data` JSON NULL COMMENT 'å“åº”æ•°æ®',
  `ip_address` VARCHAR(45) NULL COMMENT 'IPåœ°å€',
  `user_agent` TEXT NULL COMMENT 'ç”¨æˆ·ä»£ç†',
  `execution_time` DECIMAL(8,3) NULL COMMENT 'æ‰§è¡Œæ—¶é—´(ç§’)',
  `status` ENUM('success', 'error', 'warning') DEFAULT 'success' COMMENT 'æ‰§è¡ŒçŠ¶æ€',
  `error_message` TEXT NULL COMMENT 'é”™è¯¯ä¿¡æ¯',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  
  INDEX `idx_system_logs_user_id` (`user_id`),
  INDEX `idx_system_logs_action` (`action`),
  INDEX `idx_system_logs_module` (`module`),
  INDEX `idx_system_logs_status` (`status`),
  INDEX `idx_system_logs_created_at` (`created_at`),
  
  FOREIGN KEY `fk_system_logs_user_id` (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç³»ç»Ÿæ“ä½œæ—¥å¿—è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

### 12. ç³»ç»Ÿé…ç½®è¡¨ (system_configs)
**è¡¨ç”¨é€”**: å­˜å‚¨ç³»ç»Ÿé…ç½®å‚æ•°

```sql
CREATE TABLE `system_configs` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `config_key` VARCHAR(100) NOT NULL UNIQUE COMMENT 'é…ç½®é”®',
  `config_value` TEXT NOT NULL COMMENT 'é…ç½®å€¼',
  `config_type` ENUM('string', 'number', 'boolean', 'json') DEFAULT 'string' COMMENT 'é…ç½®ç±»å‹',
  `description` TEXT NULL COMMENT 'é…ç½®æè¿°',
  `is_editable` TINYINT(1) DEFAULT 1 COMMENT 'æ˜¯å¦å¯ç¼–è¾‘',
  `category` VARCHAR(50) DEFAULT 'general' COMMENT 'é…ç½®åˆ†ç±»',
  `sort_order` INT DEFAULT 0 COMMENT 'æ’åºåºå·',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  
  INDEX `idx_system_configs_category` (`category`),
  INDEX `idx_system_configs_sort_order` (`sort_order`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç³»ç»Ÿé…ç½®è¡¨';
```

**å¼€å‘è®°å½•**:
- è®¾è®¡æ—¶é—´: [å¾…å¡«å†™]
- è®¾è®¡äººå‘˜: [å¾…å¡«å†™]
- åˆ›å»ºçŠ¶æ€: [å¾…åˆ›å»º]
- å˜æ›´è®°å½•: [æ— ]

---

## ğŸ”— æ•°æ®åº“å…³ç³»å›¾

```
ç”¨æˆ·è¡¨ (users)
â”œâ”€â”€ ä»»åŠ¡è¡¨ (tasks) - assignee_id, created_by
â”œâ”€â”€ ä»»åŠ¡åä½œäººå‘˜è¡¨ (task_collaborators) - user_id
â”œâ”€â”€ æ–‡ä»¶è¡¨ (files) - uploaded_by
â”œâ”€â”€ ä»»åŠ¡è¯„è®ºè¡¨ (task_comments) - user_id
â”œâ”€â”€ é€šçŸ¥è¡¨ (notifications) - user_id
â”œâ”€â”€ ä»»åŠ¡å˜æ›´æ—¥å¿—è¡¨ (task_change_logs) - user_id
â””â”€â”€ ç³»ç»Ÿæ“ä½œæ—¥å¿—è¡¨ (system_logs) - user_id

ä»»åŠ¡è¡¨ (tasks)
â”œâ”€â”€ ä»»åŠ¡åä½œäººå‘˜è¡¨ (task_collaborators) - task_id
â”œâ”€â”€ ä»»åŠ¡ä¾èµ–å…³ç³»è¡¨ (task_dependencies) - task_id, depends_on_task_id
â”œâ”€â”€ ä»»åŠ¡æ­¥éª¤è¡¨ (task_steps) - task_id
â”œâ”€â”€ é‡Œç¨‹ç¢‘è¡¨ (milestones) - task_id
â”œâ”€â”€ æ–‡ä»¶è¡¨ (files) - task_id
â”œâ”€â”€ ä»»åŠ¡è¯„è®ºè¡¨ (task_comments) - task_id
â””â”€â”€ ä»»åŠ¡å˜æ›´æ—¥å¿—è¡¨ (task_change_logs) - task_id
```

---

## ğŸ“ å¼€å‘æ—¥å¿—æ ¼å¼

### æ•°æ®åº“å˜æ›´æ—¥å¿—æ¨¡æ¿
```markdown
## æ•°æ®åº“å˜æ›´è®°å½•

### å˜æ›´ä¿¡æ¯
- **å˜æ›´æ—¥æœŸ**: YYYY-MM-DD HH:mm:ss
- **å˜æ›´äººå‘˜**: [å§“å]
- **å˜æ›´ç±»å‹**: [æ–°å»ºè¡¨/ä¿®æ”¹è¡¨ç»“æ„/åˆ é™¤è¡¨/æ–°å¢ç´¢å¼•/ä¿®æ”¹æ•°æ®]
- **å½±å“èŒƒå›´**: [å½±å“çš„è¡¨å’ŒåŠŸèƒ½]

### å˜æ›´å†…å®¹
#### å˜æ›´å‰
```sql
-- åŸå§‹SQLè¯­å¥æˆ–è¡¨ç»“æ„
```

#### å˜æ›´å
```sql
-- æ–°çš„SQLè¯­å¥æˆ–è¡¨ç»“æ„
```

### å˜æ›´åŸå› 
[è¯¦ç»†è¯´æ˜å˜æ›´çš„ä¸šåŠ¡éœ€æ±‚æˆ–æŠ€æœ¯åŸå› ]

### å½±å“è¯„ä¼°
- **æ•°æ®å½±å“**: [æ˜¯å¦å½±å“ç°æœ‰æ•°æ®]
- **åŠŸèƒ½å½±å“**: [å½±å“çš„åŠŸèƒ½æ¨¡å—]
- **æ€§èƒ½å½±å“**: [å¯¹æŸ¥è¯¢æ€§èƒ½çš„å½±å“]
- **å…¼å®¹æ€§**: [å‘å‰å…¼å®¹æ€§è¯´æ˜]

### å›æ»šæ–¹æ¡ˆ
```sql
-- å›æ»šSQLè¯­å¥
```

### æµ‹è¯•éªŒè¯
- [ ] è¡¨ç»“æ„åˆ›å»ºæˆåŠŸ
- [ ] ç´¢å¼•åˆ›å»ºæˆåŠŸ
- [ ] å¤–é”®çº¦æŸæ­£å¸¸
- [ ] æ•°æ®è¿ç§»æˆåŠŸ
- [ ] ç›¸å…³åŠŸèƒ½æµ‹è¯•é€šè¿‡

### éƒ¨ç½²è¯´æ˜
1. å¤‡ä»½ç›¸å…³è¡¨æ•°æ®
2. æ‰§è¡Œå˜æ›´SQL
3. éªŒè¯å˜æ›´ç»“æœ
4. æ›´æ–°ç›¸å…³æ–‡æ¡£
```

### æ¯æ—¥å¼€å‘æ—¥å¿—æ¨¡æ¿
```markdown
## å¼€å‘æ—¥å¿— - YYYY-MM-DD

### ä»Šæ—¥æ•°æ®åº“å·¥ä½œ
#### å®Œæˆçš„è¡¨è®¾è®¡
- [ ] è¡¨å1: è®¾è®¡å®Œæˆ/åˆ›å»ºå®Œæˆ/æµ‹è¯•å®Œæˆ
- [ ] è¡¨å2: è®¾è®¡å®Œæˆ/åˆ›å»ºå®Œæˆ/æµ‹è¯•å®Œæˆ

#### æ•°æ®åº“å˜æ›´
- æ–°å¢è¡¨: [è¡¨å] - [ç”¨é€”è¯´æ˜]
- ä¿®æ”¹è¡¨: [è¡¨å] - [ä¿®æ”¹å†…å®¹]
- æ–°å¢ç´¢å¼•: [è¡¨å.å­—æ®µå] - [ç´¢å¼•ç±»å‹]

#### é‡åˆ°çš„é—®é¢˜
1. **é—®é¢˜æè¿°**: [å…·ä½“é—®é¢˜]
   - **è§£å†³æ–¹æ¡ˆ**: [è§£å†³è¿‡ç¨‹]
   - **ç»éªŒæ€»ç»“**: [é¿å…ç±»ä¼¼é—®é¢˜çš„æ–¹æ³•]

#### æ€§èƒ½ä¼˜åŒ–
- æŸ¥è¯¢ä¼˜åŒ–: [ä¼˜åŒ–çš„æŸ¥è¯¢è¯­å¥]
- ç´¢å¼•ä¼˜åŒ–: [æ–°å¢æˆ–è°ƒæ•´çš„ç´¢å¼•]
- æ•°æ®ç»“æ„ä¼˜åŒ–: [ç»“æ„è°ƒæ•´è¯´æ˜]

### æ˜æ—¥è®¡åˆ’
- [ ] å®Œæˆè¡¨è®¾è®¡: [è¡¨ååˆ—è¡¨]
- [ ] åˆ›å»ºæ•°æ®åº“è¡¨: [è¡¨ååˆ—è¡¨]
- [ ] ç¼–å†™æµ‹è¯•æ•°æ®: [ç›¸å…³è¡¨]
- [ ] æ€§èƒ½æµ‹è¯•: [æµ‹è¯•å†…å®¹]

### æ•°æ®åº“ç»Ÿè®¡
- å·²å®Œæˆè¡¨æ•°é‡: X/æ€»æ•°
- å·²åˆ›å»ºç´¢å¼•æ•°é‡: Xä¸ª
- å·²å»ºç«‹å¤–é”®å…³ç³»: Xä¸ª
- æ•°æ®åº“å¤§å°: XMB
```

---

## ğŸ”§ æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

### åˆ›å»ºæ•°æ®åº“
```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS `task_management_system` 
DEFAULT CHARACTER SET utf8mb4 
DEFAULT COLLATE utf8mb4_unicode_ci;

-- ä½¿ç”¨æ•°æ®åº“
USE `task_management_system`;
```

### åˆå§‹åŒ–æ•°æ®
```sql
-- æ’å…¥é»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·
INSERT INTO `users` (`username`, `password`, `name`, `email`, `role`, `status`) VALUES
('admin', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'ç³»ç»Ÿç®¡ç†å‘˜', 'admin@example.com', 'admin', 'active');

-- æ’å…¥ç³»ç»Ÿé…ç½®
INSERT INTO `system_configs` (`config_key`, `config_value`, `config_type`, `description`, `category`) VALUES
('system_name', 'éƒ¨é—¨å·¥ä½œä»»åŠ¡ç®¡ç†ç³»ç»Ÿ', 'string', 'ç³»ç»Ÿåç§°', 'general'),
('max_file_size', '20971520', 'number', 'æœ€å¤§æ–‡ä»¶ä¸Šä¼ å¤§å°(å­—èŠ‚)', 'file'),
('notification_retention_days', '14', 'number', 'é€šçŸ¥ä¿ç•™å¤©æ•°', 'notification'),
('reminder_days_before_deadline', '3', 'number', 'æˆªæ­¢å‰æé†’å¤©æ•°', 'task'),
('auto_cleanup_enabled', 'true', 'boolean', 'æ˜¯å¦å¯ç”¨è‡ªåŠ¨æ¸…ç†', 'system');
```

---

## ğŸ“Š æ•°æ®åº“ç›‘æ§ä¸ç»´æŠ¤

### æ€§èƒ½ç›‘æ§æŒ‡æ ‡
1. **æŸ¥è¯¢æ€§èƒ½**
   - æ…¢æŸ¥è¯¢æ—¥å¿—ç›‘æ§
   - æŸ¥è¯¢æ‰§è¡Œæ—¶é—´ç»Ÿè®¡
   - ç´¢å¼•ä½¿ç”¨æƒ…å†µåˆ†æ

2. **å­˜å‚¨ç›‘æ§**
   - æ•°æ®åº“å¤§å°å¢é•¿è¶‹åŠ¿
   - è¡¨ç©ºé—´ä½¿ç”¨æƒ…å†µ
   - ç´¢å¼•ç©ºé—´å ç”¨

3. **è¿æ¥ç›‘æ§**
   - å¹¶å‘è¿æ¥æ•°
   - è¿æ¥æ± ä½¿ç”¨æƒ…å†µ
   - é”ç­‰å¾…ç»Ÿè®¡

### ç»´æŠ¤è®¡åˆ’
1. **æ—¥å¸¸ç»´æŠ¤**
   - æ¯æ—¥å¤‡ä»½æ•°æ®åº“
   - ç›‘æ§æ…¢æŸ¥è¯¢æ—¥å¿—
   - æ£€æŸ¥é”™è¯¯æ—¥å¿—

2. **å‘¨æœŸç»´æŠ¤**
   - æ¯å‘¨åˆ†æè¡¨ç»Ÿè®¡ä¿¡æ¯
   - æ¯æœˆæ¸…ç†è¿‡æœŸæ•°æ®
   - æ¯å­£åº¦ä¼˜åŒ–ç´¢å¼•

3. **å¹´åº¦ç»´æŠ¤**
   - æ•°æ®å½’æ¡£ç­–ç•¥æ‰§è¡Œ
   - æ•°æ®åº“ç‰ˆæœ¬å‡çº§è¯„ä¼°
   - å®¹é‡è§„åˆ’è°ƒæ•´

---

## ğŸ”„ ç‰ˆæœ¬æ§åˆ¶

### æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†
1. **ç‰ˆæœ¬å‘½åè§„åˆ™**: `vä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬`
2. **å˜æ›´è¿½è¸ª**: æ¯æ¬¡ç»“æ„å˜æ›´éƒ½è¦è®°å½•ç‰ˆæœ¬å·
3. **è¿ç§»è„šæœ¬**: æä¾›ç‰ˆæœ¬é—´çš„å‡çº§å’Œé™çº§è„šæœ¬

### å½“å‰ç‰ˆæœ¬
- **æ•°æ®åº“ç‰ˆæœ¬**: v1.0.0
- **æœ€åæ›´æ–°**: [å¾…å¡«å†™]
- **å˜æ›´æ‘˜è¦**: åˆå§‹æ•°æ®åº“è®¾è®¡

---

**ç»´æŠ¤è¯´æ˜**: 
1. æ¯æ¬¡æ•°æ®åº“ç»“æ„å˜æ›´éƒ½å¿…é¡»æ›´æ–°æ­¤æ–‡æ¡£
2. æ‰€æœ‰SQLè„šæœ¬éƒ½è¦ç»è¿‡æµ‹è¯•éªŒè¯
3. é‡è¦å˜æ›´éœ€è¦æå‰å¤‡ä»½æ•°æ®
4. å®šæœŸreviewæ•°æ®åº“è®¾è®¡çš„åˆç†æ€§

**è´£ä»»äºº**: 
- æ•°æ®åº“è®¾è®¡: æ¶æ„å¸ˆ
- ç»“æ„ç»´æŠ¤: åç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- æ–‡æ¡£æ›´æ–°: é¡¹ç›®ç»ç†
- æ€§èƒ½ä¼˜åŒ–: DBA